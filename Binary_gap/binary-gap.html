<!DOCTYPE html>
<html>

<head>
    <title>Desafio BinaryGap</title>

    <link rel="stylesheet" type="text/css" href="style.css">
</head>

<body>

    <h1>Desafio BinaryGap</h1>
    <h2>Nome da Equipe:</h2>
    <h2>RA's: 17366382, 18124872, 18472972, 19642462 </h2>
    <h2>Nomes: Abram F Hoffmann, Leonardo Henrique Alves Valin, Marcos Vinicius Oliveira Carneiro, Rodrigo Kambara</h2>

    <table>
        <thead>
            <tr>
                <th>Digito</th>
                <th>Ação</th>
                <th>Binario</th>
                <th>BinaryGap?</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td class="digito">9</td>
                <td><button>Calcula</button></td>
                <td class="binario"></td>
                <td>?</td>
            </tr>
            <tr>
                <td class="digito">526</td>
                <td><button>Calcula</button></td>
                <td class="binario"></td>
                <td>?</td>
            </tr>
            <tr>
                <td class="digito">20</td>
                <td><button>Calcula</button></td>
                <td class="binario"></td>
                <td>?</td>
            </tr>
            <tr>
                <td class="digito">15</td>
                <td><button>Calcula</button></td>
                <td class="binario"></td>
                <td>?</td>
            </tr>
            <tr>
                <td class="digito">32</td>
                <td><button>Calcula</button></td>
                <td class="binario"></td>
                <td>?</td>
            </tr>
            <tr>
                <td class="digito">2031654946</td>
                <td><button>Calcula</button></td>
                <td class="binario"></td>
                <td>?</td>
            </tr>
            <tr>
                <td class="digito">19</td>
                <td><button>Calcula</button></td>
                <td class="binario"></td>
                <td>?</td>
            </tr>
            <tr>
                <td class="digito">42</td>
                <td><button>Calcula</button></td>
                <td class="binario"></td>
                <td>?</td>
            </tr>
        </tbody>
    </table>


<script type="text/javascript">
 
const buttons = document.querySelectorAll("button")
for (const button of buttons) {
  button.addEventListener('click', function() {
    let num = this.parentNode.parentNode.querySelector('td:first-child').innerText;
    let tdRes = this.parentNode.parentNode.querySelector('td:last-child');
    let binario =   (num >>> 0).toString(2)
    this.parentNode.parentNode.querySelector('td.binario').innerText = binario ;
    
    var max = 0, temp = 0;
    for(i = 0 ; i <= binario.length; i++) {
        if(binario[i] & 1 && !temp) temp = 1;
        temp += (binario[i+1] === '0' && !!temp);
        if(binario[i+1] & 1 && !!temp) {
            max = Math.max(temp - 1, max);

            temp = 0;
        }
    }

    tdRes.innerText = max;
  })
}

</script>
</body>

</html>